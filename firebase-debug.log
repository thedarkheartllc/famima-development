[debug] [2025-09-30T19:28:01.644Z] ----------------------------------------------------------------------
[debug] [2025-09-30T19:28:01.645Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase login
[debug] [2025-09-30T19:28:01.646Z] CLI Version:   14.17.0
[debug] [2025-09-30T19:28:01.646Z] Platform:      darwin
[debug] [2025-09-30T19:28:01.646Z] Node Version:  v20.12.2
[debug] [2025-09-30T19:28:01.646Z] Time:          Wed Oct 01 2025 02:28:01 GMT+0700 (Indochina Time)
[debug] [2025-09-30T19:28:01.646Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-30T19:28:01.647Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[error] 
[error] Error: Cannot run login in non-interactive mode. See login:ci to generate a token for use in non-interactive environments.
[debug] [2025-09-30T19:29:15.627Z] ----------------------------------------------------------------------
[debug] [2025-09-30T19:29:15.628Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase use famima-development
[debug] [2025-09-30T19:29:15.628Z] CLI Version:   14.17.0
[debug] [2025-09-30T19:29:15.628Z] Platform:      darwin
[debug] [2025-09-30T19:29:15.629Z] Node Version:  v20.12.2
[debug] [2025-09-30T19:29:15.629Z] Time:          Wed Oct 01 2025 02:29:15 GMT+0700 (Indochina Time)
[debug] [2025-09-30T19:29:15.629Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-30T19:29:15.630Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-09-30T19:29:15.754Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-30T19:29:15.755Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-09-30T19:29:15.756Z] Checked if tokens are valid: false, expires at: 1759067227599
[debug] [2025-09-30T19:29:15.756Z] Checked if tokens are valid: false, expires at: 1759067227599
[debug] [2025-09-30T19:29:15.758Z] > refreshing access token with scopes: []
[debug] [2025-09-30T19:29:15.758Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-09-30T19:29:15.758Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-09-30T19:29:17.850Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-09-30T19:29:17.851Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-09-30T19:29:21.008Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-09-30T19:29:21.008Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-09-30T19:29:21.018Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-09-30T19:29:21.018Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/famima-development
[debug] [2025-09-30T19:29:26.440Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-09-30T19:29:26.441Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-09-30T19:29:26.448Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:29:26.448Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:29:26.448Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/famima-development [none]
[debug] [2025-09-30T19:29:31.936Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/famima-development 200
[debug] [2025-09-30T19:33:50.700Z] ----------------------------------------------------------------------
[debug] [2025-09-30T19:33:50.702Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase projects:list
[debug] [2025-09-30T19:33:50.702Z] CLI Version:   14.17.0
[debug] [2025-09-30T19:33:50.702Z] Platform:      darwin
[debug] [2025-09-30T19:33:50.702Z] Node Version:  v20.12.2
[debug] [2025-09-30T19:33:50.702Z] Time:          Wed Oct 01 2025 02:33:50 GMT+0700 (Indochina Time)
[debug] [2025-09-30T19:33:50.702Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-30T19:33:50.802Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-30T19:33:50.803Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-09-30T19:33:50.805Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:33:50.805Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:33:50.805Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects pageSize=1000
[debug] [2025-09-30T19:33:56.301Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects 200
[debug] [2025-09-30T19:34:27.132Z] ----------------------------------------------------------------------
[debug] [2025-09-30T19:34:27.133Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase deploy --only firestore:rules
[debug] [2025-09-30T19:34:27.133Z] CLI Version:   14.17.0
[debug] [2025-09-30T19:34:27.134Z] Platform:      darwin
[debug] [2025-09-30T19:34:27.134Z] Node Version:  v20.12.2
[debug] [2025-09-30T19:34:27.134Z] Time:          Wed Oct 01 2025 02:34:27 GMT+0700 (Indochina Time)
[debug] [2025-09-30T19:34:27.134Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-30T19:34:27.242Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-30T19:34:27.243Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-09-30T19:34:27.243Z] [iam] checking project famima-development for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-09-30T19:34:27.244Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:27.244Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:27.245Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions [none]
[debug] [2025-09-30T19:34:27.245Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions x-goog-quota-user=projects/famima-development
[debug] [2025-09-30T19:34:27.245Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-09-30T19:34:32.635Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions 200
[debug] [2025-09-30T19:34:32.635Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'famima-development'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-09-30T19:34:32.639Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:32.639Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:32.639Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [none]
[debug] [2025-09-30T19:34:32.640Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [omitted]
[debug] [2025-09-30T19:34:37.592Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test 200
[debug] [2025-09-30T19:34:37.592Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-09-30T19:34:37.593Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:37.593Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:37.593Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) [none]
[debug] [2025-09-30T19:34:39.615Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) 200
[debug] [2025-09-30T19:34:39.615Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) {"name":"projects/famima-development/databases/(default)","uid":"5aef64bf-ed93-4bb2-be87-f8f69592ca40","createTime":"2025-09-30T18:45:06.184637Z","updateTime":"2025-09-30T18:45:06.184637Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-09-30T18:45:06.184637Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IL23rL6dgZADMLPo2oqagZAD"}
[debug] [2025-09-30T19:34:39.616Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:39.616Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:39.617Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases pageSize=10&pageToken=
[debug] [2025-09-30T19:34:40.224Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases 200
[debug] [2025-09-30T19:34:40.224Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases {"releases":[{"name":"projects/famima-development/releases/cloud.firestore","rulesetName":"projects/famima-development/rulesets/8e493d25-52f4-4009-b6b0-072bc20e18f9","createTime":"2025-09-30T18:45:08.002003Z","updateTime":"2025-09-30T18:45:08.002003Z"},{"name":"projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app","rulesetName":"projects/famima-development/rulesets/d102f104-0864-4cdf-ab79-b2c72fe7b0e3","createTime":"2025-09-30T18:43:16.772140Z","updateTime":"2025-09-30T18:43:16.772140Z"}]}
[debug] [2025-09-30T19:34:40.236Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:40.237Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:40.237Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/8e493d25-52f4-4009-b6b0-072bc20e18f9 [none]
[debug] [2025-09-30T19:34:40.939Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/8e493d25-52f4-4009-b6b0-072bc20e18f9 200
[debug] [2025-09-30T19:34:40.939Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/8e493d25-52f4-4009-b6b0-072bc20e18f9 [omitted]
[info] i  firestore: uploading rules firestore.rules... 
[debug] [2025-09-30T19:34:40.941Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:40.941Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:40.941Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [none]
[debug] [2025-09-30T19:34:40.941Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [omitted]
[debug] [2025-09-30T19:34:41.294Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets 200
[debug] [2025-09-30T19:34:41.294Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets {"name":"projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438","source":{"files":[{"content":"rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Allow read access to all people documents (for public gallery viewing)\n    match /people/{personId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Allow read access to all photos (for public gallery viewing)\n    match /photos/{photoId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Default rule: deny all other access\n    match /{document=**} {\n      allow read, write: if false;\n    }\n  }\n}\n","name":"firestore.rules"}]},"createTime":"2025-09-30T19:34:41.620607Z","metadata":{"services":["cloud.firestore"]}}
[debug] [2025-09-30T19:34:41.294Z] [rules] created ruleset projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438
[debug] [2025-09-30T19:34:41.295Z] [rules] releasing cloud.firestore/(default) with ruleset projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438
[debug] [2025-09-30T19:34:41.295Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:41.295Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:34:41.296Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) [none]
[debug] [2025-09-30T19:34:41.296Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) {"release":{"name":"projects/famima-development/releases/cloud.firestore/(default)","rulesetName":"projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438"}}
[debug] [2025-09-30T19:34:41.922Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) 200
[debug] [2025-09-30T19:35:06.872Z] ----------------------------------------------------------------------
[debug] [2025-09-30T19:35:06.873Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase deploy --only storage:rules
[debug] [2025-09-30T19:35:06.874Z] CLI Version:   14.17.0
[debug] [2025-09-30T19:35:06.874Z] Platform:      darwin
[debug] [2025-09-30T19:35:06.874Z] Node Version:  v20.12.2
[debug] [2025-09-30T19:35:06.874Z] Time:          Wed Oct 01 2025 02:35:06 GMT+0700 (Indochina Time)
[debug] [2025-09-30T19:35:06.874Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-30T19:35:06.978Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-30T19:35:06.978Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-09-30T19:35:06.978Z] [iam] checking project famima-development for permissions ["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2025-09-30T19:35:06.979Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:35:06.979Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:35:06.979Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions [none]
[debug] [2025-09-30T19:35:06.980Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions x-goog-quota-user=projects/famima-development
[debug] [2025-09-30T19:35:06.980Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-09-30T19:35:12.246Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions 200
[debug] [2025-09-30T19:35:12.246Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[info] 
[info] === Deploying to 'famima-development'...
[info] 
[info] i  deploying storage 
[info] i  storage: ensuring required API firebasestorage.googleapis.com is enabled... 
[debug] [2025-09-30T19:35:12.251Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:35:12.252Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:35:12.254Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/firebasestorage.googleapis.com [none]
[debug] [2025-09-30T19:35:12.254Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/firebasestorage.googleapis.com x-goog-quota-user=projects/famima-development
[debug] [2025-09-30T19:35:17.295Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/firebasestorage.googleapis.com 200
[debug] [2025-09-30T19:35:17.295Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/famima-development/services/firebasestorage.googleapis.com [omitted]
[info] ✔  storage: required API firebasestorage.googleapis.com is enabled 
[debug] [2025-09-30T19:35:17.307Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:35:17.307Z] Checked if tokens are valid: true, expires at: 1759264160009
[debug] [2025-09-30T19:35:17.307Z] >>> [apiv2][query] GET https://firebasestorage.googleapis.com/v1alpha/projects/famima-development/defaultBucket [none]
[debug] [2025-09-30T19:35:22.614Z] <<< [apiv2][status] GET https://firebasestorage.googleapis.com/v1alpha/projects/famima-development/defaultBucket 200
[debug] [2025-09-30T19:35:22.615Z] <<< [apiv2][body] GET https://firebasestorage.googleapis.com/v1alpha/projects/famima-development/defaultBucket {"name":"projects/famima-development/defaultBucket","location":"US-CENTRAL1","bucket":{"name":"projects/famima-development/buckets/famima-development.firebasestorage.app"},"storageClass":"REGIONAL"}
[error] 
[error] Error: Could not find rules for the following storage targets: rules
[debug] [2025-09-30T20:21:52.483Z] ----------------------------------------------------------------------
[debug] [2025-09-30T20:21:52.485Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase deploy --only storage
[debug] [2025-09-30T20:21:52.486Z] CLI Version:   14.17.0
[debug] [2025-09-30T20:21:52.486Z] Platform:      darwin
[debug] [2025-09-30T20:21:52.486Z] Node Version:  v20.12.2
[debug] [2025-09-30T20:21:52.486Z] Time:          Wed Oct 01 2025 03:21:52 GMT+0700 (Indochina Time)
[debug] [2025-09-30T20:21:52.486Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-30T20:21:52.656Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-30T20:21:52.657Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-09-30T20:21:52.658Z] [iam] checking project famima-development for permissions ["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2025-09-30T20:21:52.659Z] Checked if tokens are valid: false, expires at: 1759264160009
[debug] [2025-09-30T20:21:52.659Z] Checked if tokens are valid: false, expires at: 1759264160009
[debug] [2025-09-30T20:21:52.659Z] > refreshing access token with scopes: []
[debug] [2025-09-30T20:21:52.661Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-09-30T20:21:52.661Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-09-30T20:21:57.413Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-09-30T20:21:57.414Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-09-30T20:21:57.434Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions [none]
[debug] [2025-09-30T20:21:57.435Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions x-goog-quota-user=projects/famima-development
[debug] [2025-09-30T20:21:57.435Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-09-30T20:22:02.739Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions 200
[debug] [2025-09-30T20:22:02.740Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[info] 
[info] === Deploying to 'famima-development'...
[info] 
[info] i  deploying storage 
[info] i  storage: ensuring required API firebasestorage.googleapis.com is enabled... 
[debug] [2025-09-30T20:22:02.746Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:02.746Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:02.747Z] >>> [apiv2][query] GET https://firebasestorage.googleapis.com/v1alpha/projects/famima-development/defaultBucket [none]
[debug] [2025-09-30T20:22:07.499Z] <<< [apiv2][status] GET https://firebasestorage.googleapis.com/v1alpha/projects/famima-development/defaultBucket 200
[debug] [2025-09-30T20:22:07.500Z] <<< [apiv2][body] GET https://firebasestorage.googleapis.com/v1alpha/projects/famima-development/defaultBucket {"name":"projects/famima-development/defaultBucket","location":"US-CENTRAL1","bucket":{"name":"projects/famima-development/buckets/famima-development.firebasestorage.app"},"storageClass":"REGIONAL"}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2025-09-30T20:22:07.502Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:07.502Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:07.502Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [none]
[debug] [2025-09-30T20:22:07.502Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [omitted]
[debug] [2025-09-30T20:22:12.956Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test 200
[debug] [2025-09-30T20:22:12.957Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test {}
[info] ✔  firebase.storage: rules file storage.rules compiled successfully 
[debug] [2025-09-30T20:22:12.959Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:12.959Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:12.960Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases pageSize=10&pageToken=
[debug] [2025-09-30T20:22:13.586Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases 200
[debug] [2025-09-30T20:22:13.587Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases {"releases":[{"name":"projects/famima-development/releases/cloud.firestore","rulesetName":"projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438","createTime":"2025-09-30T18:45:08.002003Z","updateTime":"2025-09-30T19:34:41.990393Z"},{"name":"projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app","rulesetName":"projects/famima-development/rulesets/d102f104-0864-4cdf-ab79-b2c72fe7b0e3","createTime":"2025-09-30T18:43:16.772140Z","updateTime":"2025-09-30T18:43:16.772140Z"}]}
[debug] [2025-09-30T20:22:13.609Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:13.609Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:13.609Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/d102f104-0864-4cdf-ab79-b2c72fe7b0e3 [none]
[debug] [2025-09-30T20:22:14.196Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/d102f104-0864-4cdf-ab79-b2c72fe7b0e3 200
[debug] [2025-09-30T20:22:14.197Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/d102f104-0864-4cdf-ab79-b2c72fe7b0e3 [omitted]
[info] i  storage: uploading rules storage.rules... 
[debug] [2025-09-30T20:22:14.199Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:14.199Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:14.199Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [none]
[debug] [2025-09-30T20:22:14.199Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [omitted]
[debug] [2025-09-30T20:22:14.549Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets 200
[debug] [2025-09-30T20:22:14.549Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets {"name":"projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852","source":{"files":[{"content":"rules_version = '2';\n\nservice firebase.storage {\n  match /b/{bucket}/o {\n    // Allow read access to all photos (for public gallery viewing)\n    match /photos/{personId}/{photoId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Default rule: deny all other access\n    match /{allPaths=**} {\n      allow read, write: if false;\n    }\n  }\n}\n","name":"storage.rules"}]},"createTime":"2025-09-30T20:22:14.865375Z","metadata":{"services":["firebase.storage"]}}
[debug] [2025-09-30T20:22:14.549Z] [rules] created ruleset projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852
[debug] [2025-09-30T20:22:14.550Z] [rules] releasing firebase.storage/famima-development.firebasestorage.app with ruleset projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852
[debug] [2025-09-30T20:22:14.550Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:14.550Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:22:14.551Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app [none]
[debug] [2025-09-30T20:22:14.551Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app {"release":{"name":"projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app","rulesetName":"projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852"}}
[debug] [2025-09-30T20:22:15.223Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app 200
[debug] [2025-09-30T20:25:44.170Z] ----------------------------------------------------------------------
[debug] [2025-09-30T20:25:44.172Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase deploy --only firestore:rules
[debug] [2025-09-30T20:25:44.173Z] CLI Version:   14.17.0
[debug] [2025-09-30T20:25:44.173Z] Platform:      darwin
[debug] [2025-09-30T20:25:44.173Z] Node Version:  v20.12.2
[debug] [2025-09-30T20:25:44.173Z] Time:          Wed Oct 01 2025 03:25:44 GMT+0700 (Indochina Time)
[debug] [2025-09-30T20:25:44.173Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-30T20:25:44.335Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-30T20:25:44.336Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-09-30T20:25:44.336Z] [iam] checking project famima-development for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-09-30T20:25:44.337Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:44.337Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:44.338Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions [none]
[debug] [2025-09-30T20:25:44.338Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions x-goog-quota-user=projects/famima-development
[debug] [2025-09-30T20:25:44.338Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-09-30T20:25:49.455Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions 200
[debug] [2025-09-30T20:25:49.455Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'famima-development'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-09-30T20:25:49.460Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:49.460Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:49.460Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [none]
[debug] [2025-09-30T20:25:49.460Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [omitted]
[debug] [2025-09-30T20:25:54.440Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test 200
[debug] [2025-09-30T20:25:54.441Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-09-30T20:25:54.449Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:54.449Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:54.450Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) [none]
[debug] [2025-09-30T20:25:56.010Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) 200
[debug] [2025-09-30T20:25:56.011Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) {"name":"projects/famima-development/databases/(default)","uid":"5aef64bf-ed93-4bb2-be87-f8f69592ca40","createTime":"2025-09-30T18:45:06.184637Z","updateTime":"2025-09-30T18:45:06.184637Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-09-30T19:25:56.077165Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IPePrPmogZADMLPo2oqagZAD"}
[debug] [2025-09-30T20:25:56.012Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:56.012Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:56.012Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases pageSize=10&pageToken=
[debug] [2025-09-30T20:25:56.355Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases 200
[debug] [2025-09-30T20:25:56.356Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases {"releases":[{"name":"projects/famima-development/releases/cloud.firestore","rulesetName":"projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438","createTime":"2025-09-30T18:45:08.002003Z","updateTime":"2025-09-30T19:34:41.990393Z"},{"name":"projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app","rulesetName":"projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852","createTime":"2025-09-30T18:43:16.772140Z","updateTime":"2025-09-30T20:22:15.264504Z"}]}
[debug] [2025-09-30T20:25:56.424Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:56.424Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:56.425Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438 [none]
[debug] [2025-09-30T20:25:56.812Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438 200
[debug] [2025-09-30T20:25:56.812Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438 [omitted]
[info] i  firestore: latest version of firestore.rules already up to date, skipping upload... 
[debug] [2025-09-30T20:25:56.815Z] [rules] releasing cloud.firestore/(default) with ruleset projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438
[debug] [2025-09-30T20:25:56.816Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:56.816Z] Checked if tokens are valid: true, expires at: 1759267316414
[debug] [2025-09-30T20:25:56.816Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) [none]
[debug] [2025-09-30T20:25:56.817Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) {"release":{"name":"projects/famima-development/releases/cloud.firestore/(default)","rulesetName":"projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438"}}
[debug] [2025-09-30T20:25:57.173Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) 200
[debug] [2025-10-02T16:45:23.138Z] ----------------------------------------------------------------------
[debug] [2025-10-02T16:45:23.139Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase deploy --only firestore:rules
[debug] [2025-10-02T16:45:23.140Z] CLI Version:   14.17.0
[debug] [2025-10-02T16:45:23.140Z] Platform:      darwin
[debug] [2025-10-02T16:45:23.140Z] Node Version:  v20.12.2
[debug] [2025-10-02T16:45:23.140Z] Time:          Thu Oct 02 2025 23:45:23 GMT+0700 (Indochina Time)
[debug] [2025-10-02T16:45:23.140Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-02T16:45:23.141Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-10-02T16:45:23.262Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-02T16:45:23.262Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-10-02T16:45:23.262Z] [iam] checking project famima-development for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-10-02T16:45:23.263Z] Checked if tokens are valid: false, expires at: 1759267316414
[debug] [2025-10-02T16:45:23.263Z] Checked if tokens are valid: false, expires at: 1759267316414
[debug] [2025-10-02T16:45:23.263Z] > refreshing access token with scopes: []
[debug] [2025-10-02T16:45:23.263Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-10-02T16:45:23.264Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-02T16:45:25.371Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-10-02T16:45:25.372Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-10-02T16:45:28.229Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-10-02T16:45:28.231Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-02T16:45:28.244Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions [none]
[debug] [2025-10-02T16:45:28.244Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions x-goog-quota-user=projects/famima-development
[debug] [2025-10-02T16:45:28.244Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-10-02T16:45:33.655Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions 200
[debug] [2025-10-02T16:45:33.656Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'famima-development'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-10-02T16:45:33.661Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:33.661Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:33.662Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [none]
[debug] [2025-10-02T16:45:33.662Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [omitted]
[debug] [2025-10-02T16:45:38.907Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test 200
[debug] [2025-10-02T16:45:38.907Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-10-02T16:45:38.909Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:38.909Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:38.910Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) [none]
[debug] [2025-10-02T16:45:40.159Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) 200
[debug] [2025-10-02T16:45:40.159Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) {"name":"projects/famima-development/databases/(default)","uid":"5aef64bf-ed93-4bb2-be87-f8f69592ca40","createTime":"2025-09-30T18:45:06.184637Z","updateTime":"2025-09-30T18:45:06.184637Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-10-02T15:45:40.177270Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IKnO/Lj7hZADMLPo2oqagZAD"}
[debug] [2025-10-02T16:45:40.160Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:40.160Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:40.161Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases pageSize=10&pageToken=
[debug] [2025-10-02T16:45:40.776Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases 200
[debug] [2025-10-02T16:45:40.776Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases {"releases":[{"name":"projects/famima-development/releases/cloud.firestore","rulesetName":"projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438","createTime":"2025-09-30T18:45:08.002003Z","updateTime":"2025-09-30T20:25:57.489905Z"},{"name":"projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app","rulesetName":"projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852","createTime":"2025-09-30T18:43:16.772140Z","updateTime":"2025-09-30T20:22:15.264504Z"}]}
[debug] [2025-10-02T16:45:40.792Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:40.793Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:40.793Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438 [none]
[debug] [2025-10-02T16:45:41.482Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438 200
[debug] [2025-10-02T16:45:41.483Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/69eba703-6ac2-43f9-abc2-73628a756438 [omitted]
[info] i  firestore: uploading rules firestore.rules... 
[debug] [2025-10-02T16:45:41.484Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:41.484Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:41.484Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [none]
[debug] [2025-10-02T16:45:41.485Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [omitted]
[debug] [2025-10-02T16:45:41.837Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets 200
[debug] [2025-10-02T16:45:41.838Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets {"name":"projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c","source":{"files":[{"content":"rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Allow read access to all people documents (for public gallery viewing)\n    match /people/{personId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Allow read access to all photos (for public gallery viewing)\n    match /photos/{photoId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Allow authenticated users to create and read their own family documents\n    match /Families/{familyId} {\n      allow read, write: if request.auth != null && request.auth.uid == familyId;\n    }\n    \n    // Default rule: deny all other access\n    match /{document=**} {\n      allow read, write: if false;\n    }\n  }\n}\n","name":"firestore.rules"}]},"createTime":"2025-10-02T16:45:42.121023Z","metadata":{"services":["cloud.firestore"]}}
[debug] [2025-10-02T16:45:41.838Z] [rules] created ruleset projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c
[debug] [2025-10-02T16:45:41.838Z] [rules] releasing cloud.firestore/(default) with ruleset projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c
[debug] [2025-10-02T16:45:41.839Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:41.839Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:45:41.839Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) [none]
[debug] [2025-10-02T16:45:41.839Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) {"release":{"name":"projects/famima-development/releases/cloud.firestore/(default)","rulesetName":"projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c"}}
[debug] [2025-10-02T16:45:42.568Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) 200
[debug] [2025-10-02T16:47:10.686Z] ----------------------------------------------------------------------
[debug] [2025-10-02T16:47:10.687Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase deploy --only firestore:rules
[debug] [2025-10-02T16:47:10.687Z] CLI Version:   14.17.0
[debug] [2025-10-02T16:47:10.687Z] Platform:      darwin
[debug] [2025-10-02T16:47:10.688Z] Node Version:  v20.12.2
[debug] [2025-10-02T16:47:10.688Z] Time:          Thu Oct 02 2025 23:47:10 GMT+0700 (Indochina Time)
[debug] [2025-10-02T16:47:10.688Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-02T16:47:10.786Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-02T16:47:10.787Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-10-02T16:47:10.787Z] [iam] checking project famima-development for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-10-02T16:47:10.787Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:10.787Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:10.788Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions [none]
[debug] [2025-10-02T16:47:10.788Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions x-goog-quota-user=projects/famima-development
[debug] [2025-10-02T16:47:10.788Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-10-02T16:47:16.130Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions 200
[debug] [2025-10-02T16:47:16.130Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'famima-development'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-10-02T16:47:16.135Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:16.135Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:16.135Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [none]
[debug] [2025-10-02T16:47:16.136Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [omitted]
[debug] [2025-10-02T16:47:21.371Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test 200
[debug] [2025-10-02T16:47:21.371Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-10-02T16:47:21.373Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:21.373Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:21.373Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) [none]
[debug] [2025-10-02T16:47:22.964Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) 200
[debug] [2025-10-02T16:47:22.965Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) {"name":"projects/famima-development/databases/(default)","uid":"5aef64bf-ed93-4bb2-be87-f8f69592ca40","createTime":"2025-09-30T18:45:06.184637Z","updateTime":"2025-09-30T18:45:06.184637Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-10-02T15:47:22.913446Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"ILWQ++n7hZADMLPo2oqagZAD"}
[debug] [2025-10-02T16:47:22.966Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:22.966Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:22.966Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases pageSize=10&pageToken=
[debug] [2025-10-02T16:47:23.591Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases 200
[debug] [2025-10-02T16:47:23.591Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases {"releases":[{"name":"projects/famima-development/releases/cloud.firestore","rulesetName":"projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c","createTime":"2025-09-30T18:45:08.002003Z","updateTime":"2025-10-02T16:45:42.555276Z"},{"name":"projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app","rulesetName":"projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852","createTime":"2025-09-30T18:43:16.772140Z","updateTime":"2025-09-30T20:22:15.264504Z"}]}
[debug] [2025-10-02T16:47:23.607Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:23.607Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:23.607Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c [none]
[debug] [2025-10-02T16:47:23.951Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c 200
[debug] [2025-10-02T16:47:23.952Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/4a3eb9e8-117e-4391-9d4f-3e641b84e36c [omitted]
[info] i  firestore: uploading rules firestore.rules... 
[debug] [2025-10-02T16:47:23.953Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:23.953Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:23.953Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [none]
[debug] [2025-10-02T16:47:23.954Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [omitted]
[debug] [2025-10-02T16:47:24.572Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets 200
[debug] [2025-10-02T16:47:24.573Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets {"name":"projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3","source":{"files":[{"content":"rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Allow read access to all people documents (for public gallery viewing)\n    match /people/{personId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Allow read access to all photos (for public gallery viewing)\n    match /photos/{photoId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Allow authenticated users to create and read their own family documents\n    match /families/{familyId} {\n      allow read, write: if request.auth != null && request.auth.uid == familyId;\n    }\n    \n    // Default rule: deny all other access\n    match /{document=**} {\n      allow read, write: if false;\n    }\n  }\n}\n","name":"firestore.rules"}]},"createTime":"2025-10-02T16:47:24.582783Z","metadata":{"services":["cloud.firestore"]}}
[debug] [2025-10-02T16:47:24.573Z] [rules] created ruleset projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3
[debug] [2025-10-02T16:47:24.573Z] [rules] releasing cloud.firestore/(default) with ruleset projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3
[debug] [2025-10-02T16:47:24.574Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:24.574Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T16:47:24.574Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) [none]
[debug] [2025-10-02T16:47:24.574Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) {"release":{"name":"projects/famima-development/releases/cloud.firestore/(default)","rulesetName":"projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3"}}
[debug] [2025-10-02T16:47:25.218Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) 200
[debug] [2025-10-02T17:05:27.106Z] ----------------------------------------------------------------------
[debug] [2025-10-02T17:05:27.107Z] Command:       /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/node /Users/gunnarcurry/.nvm/versions/node/v20.12.2/bin/firebase deploy --only firestore:rules
[debug] [2025-10-02T17:05:27.107Z] CLI Version:   14.17.0
[debug] [2025-10-02T17:05:27.107Z] Platform:      darwin
[debug] [2025-10-02T17:05:27.107Z] Node Version:  v20.12.2
[debug] [2025-10-02T17:05:27.107Z] Time:          Fri Oct 03 2025 00:05:27 GMT+0700 (Indochina Time)
[debug] [2025-10-02T17:05:27.107Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-02T17:05:27.203Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-02T17:05:27.203Z] > authorizing via signed-in user (thedarkheartllc@gmail.com)
[debug] [2025-10-02T17:05:27.204Z] [iam] checking project famima-development for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-10-02T17:05:27.204Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:27.204Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:27.205Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions [none]
[debug] [2025-10-02T17:05:27.205Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions x-goog-quota-user=projects/famima-development
[debug] [2025-10-02T17:05:27.205Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-10-02T17:05:32.373Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions 200
[debug] [2025-10-02T17:05:32.373Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/famima-development:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'famima-development'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-10-02T17:05:32.378Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:32.378Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:32.378Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [none]
[debug] [2025-10-02T17:05:32.379Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test [omitted]
[debug] [2025-10-02T17:05:37.599Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test 200
[debug] [2025-10-02T17:05:37.599Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-10-02T17:05:37.601Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:37.602Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:37.602Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) [none]
[debug] [2025-10-02T17:05:38.907Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) 200
[debug] [2025-10-02T17:05:38.907Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/famima-development/databases/(default) {"name":"projects/famima-development/databases/(default)","uid":"5aef64bf-ed93-4bb2-be87-f8f69592ca40","createTime":"2025-09-30T18:45:06.184637Z","updateTime":"2025-09-30T18:45:06.184637Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-10-02T16:05:39.199227Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IJaN2/T/hZADMLPo2oqagZAD"}
[debug] [2025-10-02T17:05:38.909Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:38.909Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:38.909Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases pageSize=10&pageToken=
[debug] [2025-10-02T17:05:39.519Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases 200
[debug] [2025-10-02T17:05:39.520Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/releases {"releases":[{"name":"projects/famima-development/releases/cloud.firestore","rulesetName":"projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3","createTime":"2025-09-30T18:45:08.002003Z","updateTime":"2025-10-02T16:47:25.226593Z"},{"name":"projects/famima-development/releases/firebase.storage/famima-development.firebasestorage.app","rulesetName":"projects/famima-development/rulesets/dd8ec2b0-0579-41cb-8722-cb9d323f8852","createTime":"2025-09-30T18:43:16.772140Z","updateTime":"2025-09-30T20:22:15.264504Z"}]}
[debug] [2025-10-02T17:05:39.535Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:39.535Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:39.536Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3 [none]
[debug] [2025-10-02T17:05:39.885Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3 200
[debug] [2025-10-02T17:05:39.885Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets/7045a37e-4a17-40c8-80f7-bd88f9615ff3 [omitted]
[info] i  firestore: uploading rules firestore.rules... 
[debug] [2025-10-02T17:05:39.887Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:39.887Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:39.887Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [none]
[debug] [2025-10-02T17:05:39.887Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets [omitted]
[debug] [2025-10-02T17:05:40.564Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets 200
[debug] [2025-10-02T17:05:40.564Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/famima-development/rulesets {"name":"projects/famima-development/rulesets/6f524b67-bed3-4dfc-aff7-e168397a7476","source":{"files":[{"content":"rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Allow read access to all people documents (for public gallery viewing)\n    match /people/{personId} {\n      allow read: if true;\n      allow write: if request.auth != null;\n    }\n    \n    // Private family galleries - only family members can access their photos\n    match /photos/{photoId} {\n      allow read, write: if request.auth != null && \n        resource.data.familyId == request.auth.uid;\n    }\n    \n    // Allow authenticated users to create and read their own family documents\n    match /families/{familyId} {\n      allow read, write: if request.auth != null && request.auth.uid == familyId;\n    }\n    \n    // Default rule: deny all other access\n    match /{document=**} {\n      allow read, write: if false;\n    }\n  }\n}\n","name":"firestore.rules"}]},"createTime":"2025-10-02T17:05:40.529151Z","metadata":{"services":["cloud.firestore"]}}
[debug] [2025-10-02T17:05:40.564Z] [rules] created ruleset projects/famima-development/rulesets/6f524b67-bed3-4dfc-aff7-e168397a7476
[debug] [2025-10-02T17:05:40.565Z] [rules] releasing cloud.firestore/(default) with ruleset projects/famima-development/rulesets/6f524b67-bed3-4dfc-aff7-e168397a7476
[debug] [2025-10-02T17:05:40.565Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:40.565Z] Checked if tokens are valid: true, expires at: 1759427127231
[debug] [2025-10-02T17:05:40.565Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) [none]
[debug] [2025-10-02T17:05:40.565Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) {"release":{"name":"projects/famima-development/releases/cloud.firestore/(default)","rulesetName":"projects/famima-development/rulesets/6f524b67-bed3-4dfc-aff7-e168397a7476"}}
[debug] [2025-10-02T17:05:41.397Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/famima-development/releases/cloud.firestore/(default) 200
